"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const HookRegistry_1 = require("../models/HookRegistry");
const HookType_1 = require("../models/HookType");
const HookExecutionProcessor_1 = require("./HookExecutionProcessor");
class SpecExecutionStartingProcessor extends HookExecutionProcessor_1.HookExecutionProcessor {
    constructor() {
        super();
        this.hookType = HookType_1.HookType.BeforeSpec;
    }
    getExecutionInfo(message) {
        return message.specExecutionStartingRequest
            .currentExecutionInfo;
    }
    getApplicableHooks(message) {
        const request = message.specExecutionStartingRequest;
        const execInfo = request.currentExecutionInfo;
        const specInfo = execInfo.currentSpec;
        const tags = specInfo.tags ? specInfo.tags : [];
        return HookRegistry_1.default.get(this.hookType, tags);
    }
}
exports.SpecExecutionStartingProcessor = SpecExecutionStartingProcessor;
